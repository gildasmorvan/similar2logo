<canvas id='grid_canvas' onclick='clearCanvas();' ondblclick='fullScreen();' class='center-block' width='700' height='700'></canvas>
<label>
	<input type='checkbox'  id='clear' data-toggle='popover' data-trigger='hover' data-placement='right' data-content='Check to clear grid at each step.' checked>
	<strong>clear</strong>
</label>
<script type='text/javascript'>
function clearCanvas() {
	var canvas = document.getElementById('grid_canvas');
	var context = canvas.getContext('2d');
	context.clearRect(0, 0, canvas.width, canvas.height);
}
</script>
<script type='text/javascript'>
 drawCanvas = function (data) {
	var json = JSON.parse(data);
	var canvas = document.getElementById('grid_canvas');
	var context = canvas.getContext('2d');
	if($('#clear').prop('checked')) {
		  context.clearRect(0, 0, canvas.width, canvas.height);
	}
	for (var i = 0; i < json.agents.length; i++) {
		var centerX = json.agents[i].x*canvas.width;
		var centerY = json.agents[i].y*canvas.height;
		var radius = 1;			
		if(json.agents[i].t=='l'){context.fillStyle = 'red';}
		else {context.fillStyle = 'blue';}
		context.beginPath();
		context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
		context.fill();
	}
}
</script>